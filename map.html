<!DOCTYPE html>
<html>
<head>
  <title>Street Map with Address</title>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <style>
    #map {
      height: 450px;
      width: 100%;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<h2>Show Street, Houses & Address</h2>

Latitude:
<input type="text" id="lat" placeholder="21.2514"><br><br>

Longitude:
<input type="text" id="lng" placeholder="81.6296"><br><br>

<button onclick="showMap()">Show on Map</button>

<p id="address"></p>

<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
  let map;

  function showMap() {
    const lat = parseFloat(document.getElementById("lat").value);
    const lng = parseFloat(document.getElementById("lng").value);

    if (isNaN(lat) || isNaN(lng)) {
      alert("Enter valid latitude & longitude");
      return;
    }

    if (map) map.remove();

    // Create map (street level zoom)
    map = L.map("map").setView([lat, lng], 18);

    // OpenStreetMap tiles (shows streets, houses, shops)
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution: "Â© OpenStreetMap contributors"
    }).addTo(map);

    // Marker
    L.marker([lat, lng]).addTo(map)
      .bindPopup("Selected Location")
      .openPopup();

    // Reverse geocoding (get address)
    fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`)
      .then(res => res.json())
      .then(data => {
        document.getElementById("address").innerHTML = `
          <b>Address:</b><br>
          ${data.display_name}
        `;
      })
      .catch(() => {
        document.getElementById("address").innerText = "Address not found";
      });
  }
</script>

</body>
</html>
